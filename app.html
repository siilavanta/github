<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="" content="">
    <title>websql</title>
    <script src="./lib/dom/makedom.js" type="text/javascript" charset="utf-8"></script>
    <script src="./lib/utils/utils.js" type="text/javascript" charset="utf-8"></script>
    <script src="./lib/websql/database.js" type="text/javascript" charset="utf-8"></script>
    <script src="./www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
    <script src="./cdn.firebase.com/js/client/2.4.2/firebase.js"></script>

    <script src="./www.gstatic.com/firebasejs/8.4.1/firebase-analytics.js"></script>
    <script src="./www.gstatic.com/firebasejs/8.4.1/firebase-firestore.js"></script>
    <script src="./www.gstatic.com/firebasejs/8.4.1/firebase-database.js"></script>
    <script src="./fdbconfig.js"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.4/firebase-app.js";
        // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.4/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        // const firebaseConfig = {
        //     apiKey: "AIzaSyDuG0nAeOHGLVeBu__52SX2bGyLsRJwigk",
        //     authDomain: "palidicbycone.firebaseapp.com",
        //     projectId: "palidicbycone",
        //     storageBucket: "palidicbycone.appspot.com",
        //     messagingSenderId: "1047114998596",
        //     appId: "1:1047114998596:web:1224b416b8a5ad549aad11",
        //     measurementId: "G-EQ85FJ3DLG"
        // };

        // // Initialize Firebase
        // const app = initializeApp(firebaseConfig);
        // const analytics = getAnalytics(app);
        // console.log(analytics)
    </script>
</head>
<body>
    <script type="text/javascript" charset="utf-8">


        var dbHelper = new DatabaseHelper()
        var db = dbHelper.initDatabase('d1', '1', 'for test', 1024*1024*50, function() {
            console.log('db init')
        })

        console.log(db)
        var myStatement = dbHelper.statement('d1_original', function() {
            return {
                'col1': ['text', 'text'],
                'col2': ['lastmodify', 'text'],
                'col3': ['imgid', 'text'],
                'col4': ['author', 'text']
            }
        })

        // console.log(myStatement)


        db.transaction(function(tx) {
            tx.executeSql(myStatement.createStatement, [], function(tx, result) {
                //console.log(result)
            }, onError)
        });


        db.transaction(function(tx) {
            tx.executeSql(myStatement.insertStatement, ['shankar', 'shme@gmail.com'], function(tx, result) {
                // console.log(result)
            }, onError);
        });


        db.transaction(function(tx) {
            tx.executeSql(myStatement.selectAllStatement, [], function(tx, result) {
                tx.executeSql(myStatement.selectAllStatement, [], function(tx, data) {
                    console.log(data.rows.length)
                }, onError)
                console.log(result.rows.item(1))
            }, onError)
        });

    </script>
</body>
</html>
